
BLOCAL_SRC_FILES := $(LOCAL_SRC_FILES)
BLOCAL_OBJ_FILES := $(patsubst %.cpp,%.o,$(LOCAL_SRC_FILES))

BLOCAL_C_INCLUDES := $(LOCAL_C_INCLUDES)
BLOCAL_CFLAGS := $(LOCAL_CFLAGS)
BLOCAL_LDFLAGS := $(LOCAL_LDFLAGS)
BLOCAL_SRC_FILES := $(LOCAL_SRC_FILES)
BLOCAL_STATIC_LIBRARIES := $(LOCAL_STATIC_LIBRARIES)

BLOCAL_C_INCLUDES_PARAMS := -I $(GOOGLETEST_INCLUDE) -I ../base/include -I ../include -I ../libsparse/include $(foreach d,$(ZLOCAL_C_INCLUDES),-I $d)
BCPPFLAGS := $(CPPFLAGS)
BLOCAL_MODULE := $(LOCAL_MODULE)
BLOCAL_CONLYFLAGS := $(LOCAL_CONLYFLAGS)

$(BLOCAL_MODULE): $(BLOCAL_SRC_FILES) $(BLOCAL_STATIC_LIBRARIES)
	$(CXX) -o $@ $^ $(BLOCAL_CFLAGS) $(BLOCAL_LDFLAGS) $(BLOCAL_STATIC_LIBRARIES)

#%.o: %.cpp
#	$(CXX) -c $(BLOCAL_CFLAGS) $(BCPPFLAGS) $(BLOCAL_C_INCLUDES_PARAMS) $<

#%.o: %.c
#	$(CC) -c $(BLOCAL_CFLAGS) $(BLOCAL_CONLYFLAGS) $(BCPPFLAGS) $(BLOCAL_C_INCLUDES_PARAMS) $<
